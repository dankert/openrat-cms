<output xmlns="http://www.openrat.de/template" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.openrat.de/template ../../../../../../../template_engine/components/template.xsd">

    <form cancel="false" readonly="true">
        <text value="${fullname}" class="headline"/>

        <if not="true" empty="${image}">
            <part class="line">
                <part class="input">
                    <image url="${image}" size="80x80"/>
                </part>
            </part>
        </if>

        <part class="line">
            <part class="label">
                <text value="${message:user_username}" />
            </part>
            <part class="input">
                <text value="${name}" class="name" />
            </part>
        </part>

        <group title="${message:ADDITIONAL_INFO}">
            <part class="line">
                <part class="label">
                    <text value="${message:user_fullname}" />
                </part>
                <part class="input">
                    <text value="${fullname}" />
                </part>
            </part>
            <if true="${config:security/user/show_admin_mail}">
                <part class="line">
                    <part class="label">
                        <label for="mail" key="user_mail"></label>
                    </part>
                    <part class="input">
                        <link url="mailto:${mail}" type="external">
                            <text value="${mail}"/>
                        </link>

                        <qrcode value="mailto:${mail}"/>
                    </part>
                </part>
            </if>
            <part class="line">
                <part class="label">
                    <text value="${message:description}"></text>
                </part>
                <part class="input">
                    <text value="${desc}" />
                </part>
            </part>
            <part class="line">
                <part class="label">
                    <label for="tel" key="user_tel"></label>
                </part>
                <part class="input">
                    <text value="${tel}" />
                    <qrcode value="tel:${tel}"/>

                </part>
            </part>
            <part class="line">
                <part class="label">
                        <text value="${message:timezone}"/>
                </part>
                <part class="input">
                    <text value="${timezone}"/>
                </part>
            </part>
            <part class="line">
                <part class="label">
                    <label for="">
                        <text value="${message:language}"/>
                    </label>
                </part>
                <part class="input">
                    <text value="${language}" />
                </part>
            </part>
            <part class="line">
                <part class="label">
                </part>
                <part class="input clickable">
                    <link type="dialog" subaction="prop" class="or-link-btn">
                        <text value="${message:edit}"/>
                    </link>
                </part>
            </part>


        </group>


        <group title="${message:options}" open="false">
            <part class="line">
                <part class="label">
                </part>
                <part class="input">
                    <checkbox name="is_admin" readonly="true"></checkbox>
                    <label for="is_admin" key="user_admin"></label>
                </part>
            </part>
            <part class="line">
                <part class="label">
                    <text value="${message::user_ldapdn}"></text>
                </part>
                <part class="input">
                    <text value="${ldap_dn}"></text>
                </part>
            </part>
            <part class="line">
                <part class="label">
                    <text value="${message:user_style}"></text>
                </part>
                <part class="input">
                    <text value="${style}"></text>
                </part>
            </part>
        </group>
        <group title="${message:security}" open="false">
            <part class="line">
                <part class="label">
                    <text value="${message:user_password_expires}"/>
                </part>
                <part class="input">
                    <date date="${passwordExpires}"/>
                </part>
            </part>
            <part class="line">
                <part class="label">
                </part>
                <part class="input clickable">
                    <link type="dialog" subaction="pw" action="user" class="or-link-btn">
                        <text value="${message:edit_password}"/>
                    </link>
                </part>
            </part>

            <part class="line">
                <part class="label">
                    <text value="${message:user_last_login}"/>
                </part>
                <part class="input">
                    <date date="${lastLogin}"/>
                </part>
            </part>

            <!-- TOTP Settings -->
            <part class="line">
                <part class="label">
                    <text value="${message:token}"/>
                </part>
                <part class="input">
                    <text value="${totpToken}"/>
                </part>
            </part>
            <part class="line">
                <part class="label">
                    <label for="totp" key="user_totp"></label>
                </part>
                <part class="input">
                    <checkbox name="totp"/>
                    <label for="totp" key="user_totp"></label>

                    <!--<text value="${otpSecret}"></text>-->
                    <qrcode value="${totpSecretUrl}"/>
                </part>
            </part>

            <!-- HOTP is not implemented -
            <part class="line">
                <part class="label">
                    <label for="otpsecret" key="user_hotp"></label>
                </part>
                <part class="input">
                    <checkbox name="hotp"/>
                    <label for="hotp" key="user_hotp"></label>

                    <qrcode value="${hotpSecretUrl}"/>
                </part>
            </part>
            -->
        </group>
    </form>
</output>