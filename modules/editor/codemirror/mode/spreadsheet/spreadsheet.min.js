(function(e){if(typeof exports=='object'&&typeof module=='object')e(require('../../lib/codemirror'));else if(typeof define=='function'&&define.amd)define(['../../lib/codemirror'],e);else e(CodeMirror)})(function(e){'use strict';e.defineMode('spreadsheet',function(){return{startState:function(){return{stringType:null,stack:[]}},token:function(e,t){if(!e)return;if(t.stack.length===0){if((e.peek()=='"')||(e.peek()=='\'')){t.stringType=e.peek();e.next();t.stack.unshift('string')}};switch(t.stack[0]){case'string':while(t.stack[0]==='string'&&!e.eol()){if(e.peek()===t.stringType){e.next();t.stack.shift()}
else if(e.peek()==='\\'){e.next();e.next()}
else{e.match(/^.[^\\"']*/)}};return'string';case'characterClass':while(t.stack[0]==='characterClass'&&!e.eol()){if(!(e.match(/^[^\]\\]+/)||e.match(/^\\./)))t.stack.shift()};return'operator'};var r=e.peek();switch(r){case'[':e.next();t.stack.unshift('characterClass');return'bracket';case':':e.next();return'operator';case'\\':if(e.match(/\\[a-z]+/))return'string-2';else{e.next();return'atom'};case'.':case',':case';':case'*':case'-':case'+':case'^':case'<':case'/':case'=':e.next();return'atom';case'$':e.next();return'builtin'};if(e.match(/\d+/)){if(e.match(/^\w+/))return'error';return'number'}
else if(e.match(/^[a-zA-Z_]\w*/)){if(e.match(/(?=[\(.])/,!1))return'keyword';return'variable-2'}
else if(['[',']','(',')','{','}'].indexOf(r)!=-1){e.next();return'bracket'}
else if(!e.eatSpace()){e.next()};return null}}});e.defineMIME('text/x-spreadsheet','spreadsheet')});