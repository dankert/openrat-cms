;var popupWindow;jQuery.fn.orLinkify=function(){$(this).find("a").click(function(t){t.preventDefault()});return $(this).click(function(){$(this).find("a").first().each(function(){let type=$(this).attr("data-type");if($(this).parent().hasClass("inactive"))return;switch(type){case"post":$form=$("<form />").attr("method","POST").addClass("invisible");$form.data("afterSuccess",$(this).data("afterSuccess"));let params=jQuery.parseJSON($(this).attr("data-data"));params.output="json";$.each(params,function(t,a){let $input=$("<input />").attr("type","hidden").attr("name",t).attr("value",a);$form.append($input)});let form=new Openrat.Form();form.initOnElement($form);form.submit();break;case"edit":case"dialog":startDialog($(this).attr("data-name"),$(this).attr("data-action"),$(this).attr("data-method"),$(this).attr("data-id"),$(this).attr("data-extra"));break;case"external":window.open($(this).attr("data-url")," _blank");break;case"popup":popupWindow=window.open($(this).attr("data-url"),"Popup","location=no,menubar=no,scrollbars=yes,toolbar=no,resizable=yes");break;case"help":help(this,$(this).attr("data-url"),$(this).attr("data-suffix"));break;case"fullscreen":fullscreen(this);break;case"open":openNewAction($(this).attr("data-name"),$(this).attr("data-action"),$(this).attr("data-id"));break;default:throw"UI error: Unknown link type: "+type+" in link "+$(this).html()}})})};$(document).on("orViewLoaded",function(t,a){if(typeof popupWindow!="undefined")$(t.target).find("a[data-type='popup']").each(function(){popupWindow.location.href=$(this).attr("data-url")})});$(document).on("orDataChanged",function(t,a){if(typeof popupWindow!="undefined")popupWindow.location.reload()});